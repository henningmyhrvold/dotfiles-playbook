---
# Arch Linux Workstation Configuration
# Unified config file (replaces group_vars/all.yml + host_vars/arch-config.yml)

# =============================================================================
# User Configuration
# =============================================================================
target_user: henning
dotfiles_home: "/home/{{ target_user }}"

# =============================================================================
# Feature Toggles
# =============================================================================
configure_dotfiles: true
configure_extras: true
configure_repos: true

# =============================================================================
# Dotfiles Repository
# =============================================================================
dotfiles_repo: "https://github.com/henningmyhrvold/dotfiles.git"
dotfiles_repo_version: "main"
dotfiles_repo_accept_hostkey: true
dotfiles_repo_local_destination: "{{ dotfiles_home }}/src/dotfiles"

downloads: "{{ dotfiles_home }}/.ansible-downloads"

git_repositories:
  - "{{ dotfiles_repo }}"

# =============================================================================
# Pacman Packages (Official Repositories)
# =============================================================================
pacman_installed_packages:
  # --- Wayland ---
  - wayland
  - wlr-randr
  - xorg-xwayland
  - xdg-desktop-portal
  - xdg-desktop-portal-hyprland
  - xdg-desktop-portal-gtk
  - gtk3
  - xdg-utils
  - qt5-wayland
  - qt6-wayland
  # --- Hyprland ---
  - hyprland
  - hyprpaper
  - hypridle
  - hyprlock
  - hyprutils
  # --- Auth ---
  - sddm
  # --- Graphics Drivers ---
  - mesa
  # --- Audio ---
  - pipewire
  - pipewire-pulse
  - wireplumber
  - pavucontrol
  - sof-firmware
  - alsa-ucm-conf
  - vlc
  # --- Networking ---
  - wireless_tools
  - wpa_supplicant
  - network-manager-applet
  - openssh
  - openssl
  - systemd-resolvconf
  - nmap
  - tcpdump
  - wireshark-cli
  # --- Display & Theming ---
  - libinput
  - waybar
  - wofi
  - acpid
  - brightnessctl
  # --- Notification ---
  - dunst
  - libnotify
  - polkit-kde-agent
  - tk
  - python-gobject
  # --- Screenshot ---
  - grim
  - slurp
  # --- Fonts ---
  - fontconfig
  - noto-fonts
  - noto-fonts-emoji
  - ttf-cascadia-code-nerd
  - ttf-dejavu
  - ttf-liberation
  # --- GNOME Apps ---
  - nautilus
  - loupe
  - gnome-calendar
  - gnome-calculator
  - showtime
  # --- CLI Tools & Shell ---
  - ghostty
  - neovim
  - zsh
  - zsh-autosuggestions
  - tmux
  - wget
  - tree
  - fzf
  - fd
  - jq
  - lsof
  - bat
  - ripgrep
  - htop
  - smartmontools
  - cliphist
  - unzip
  - curl
  - rsync
  - fastfetch
  - wireguard-tools
  - fwupd
  - pacman-contrib
  # --- Programming ---
  - lua
  - lua51
  - stylua
  - go
  - python-uv
  - python-dateutil
  - python-pip
  - python-pynvim
  - python-requests
  - python-docker
  - nodejs
  - npm
  - direnv
  - terraform
  - docker
  - docker-buildx
  - docker-compose
  # --- Productivity ---
  - gedit
  - thunderbird
  # --- HW Development ---
  - subversion
  - bc
  - ccache
  - time
  - usbutils
  - picocom
  - minicom
  - tftp-hpa

# =============================================================================
# AUR Packages
# =============================================================================
aur_installed_packages:
  - claude-code
  - oh-my-zsh-git
  - zen-browser-bin
  - google-chrome
  - zsh-theme-powerlevel10k-git
  - ttf-meslo-nerd-font-powerlevel10k
  - omnissa-horizon-client
  - claude-desktop-native
  - cool-retro-term
  - tio
  - kermit

# =============================================================================
# NPM Global Packages
# =============================================================================
npm_global_packages:
  - mcp-hub@latest
  - '@modelcontextprotocol/server-filesystem@latest'
  - '@modelcontextprotocol/server-github@latest'
  - '@upstash/context7-mcp@latest'

# =============================================================================
# Folders to Create
# =============================================================================
create_folders:
  - { path: "{{ dotfiles_home }}/Pictures" }
  - { path: "{{ dotfiles_home }}/Pictures/wallpapers" }
  - { path: "{{ dotfiles_home }}/Pictures/icons" }
  - { path: "{{ dotfiles_home }}/Documents" }
  - { path: "{{ dotfiles_home }}/Downloads" }
  - { path: "{{ dotfiles_home }}/.config/colors" }
  - { path: "{{ dotfiles_home }}/.config/nvim" }
  - { path: "{{ dotfiles_home }}/.config/tmux" }
  - { path: "{{ dotfiles_home }}/.config/tmux-sessionizer" }
  - { path: "{{ dotfiles_home }}/.config/ghostty" }
  - { path: "{{ dotfiles_home }}/.config/hypr" }
  - { path: "{{ dotfiles_home }}/.config/waybar" }
  - { path: "{{ dotfiles_home }}/.config/wofi" }
  - { path: "{{ dotfiles_home }}/.config/dunst" }
  - { path: "{{ dotfiles_home }}/.config/fontconfig" }
  - { path: "{{ dotfiles_home }}/.config/cool-retro-term" }
  - { path: "{{ dotfiles_home }}/.config/mcp" }
  - { path: "{{ dotfiles_home }}/.config/Claude" }
  - { path: "{{ dotfiles_home }}/.local/bin/" }
  - { path: "{{ dotfiles_home }}/.zsh" }
  - { path: "{{ dotfiles_home }}/.vim" }

# =============================================================================
# Dotfiles Symlinks
# =============================================================================
dotfiles_links:
  - { src: "zsh/.zshrc", dest: ".zshrc" }
  - { src: "zsh/.zsh_profile", dest: ".zsh_profile" }
  - { src: "zsh/.p10k.zsh", dest: ".p10k.zsh" }
  - { src: "zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh", dest: ".zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh" }
  - { src: "nvim/init.lua", dest: ".config/nvim/init.lua" }
  - { src: "nvim/test.lua", dest: ".config/nvim/test.lua" }
  - { src: "tmux/tmux.conf", dest: ".config/tmux/tmux.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.conf", dest: ".config/tmux-sessionizer/tmux-sessionizer.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.sh", dest: ".local/bin/tmux-sessionizer.sh" }
  - { src: "tmux-sessionizer/tmux-status-color.sh", dest: ".local/bin/tmux-status-color.sh" }
  - { src: "ghostty/config", dest: ".config/ghostty/config" }
  - { src: "hypr/hyprland.conf", dest: ".config/hypr/hyprland.conf" }
  - { src: "hypr/hyprlock.conf", dest: ".config/hypr/hyprlock.conf" }
  - { src: "hypr/hypridle.conf", dest: ".config/hypr/hypridle.conf" }
  - { src: "hypr/hyprpaper.conf", dest: ".config/hypr/hyprpaper.conf" }
  - { src: "waybar/config.jsonc", dest: ".config/waybar/config.jsonc" }
  - { src: "waybar/style.css", dest: ".config/waybar/style.css" }
  - { src: "waybar/email_unread.sh", dest: ".config/waybar/email_unread.sh" }
  - { src: "waybar/meetings.py", dest: ".config/waybar/meetings.py" }
  - { src: "wofi/config", dest: ".config/wofi/config" }
  - { src: "wofi/style.css", dest: ".config/wofi/style.css" }
  - { src: "dunst/dunstrc", dest: ".config/dunst/dunstrc" }
  - { src: "fonts/fonts.conf", dest: ".config/fontconfig/fonts.conf" }
  - { src: "cool-retro-term/cool-retro-term-my-futuristic.json", dest: ".config/cool-retro-term/cool-retro-term-my-futuristic.json" }

# =============================================================================
# DNS Configuration
# =============================================================================
dns_provider: "systemd-resolved"
dns_remove_conflicts: true
dns_configure_networkmanager: true

# =============================================================================
# Serial/HW Development
# =============================================================================
hwdev_openwrt_tooling: true

# =============================================================================
# MCP Configuration (Claude Desktop)
# =============================================================================
filesystem_allowed_directories:
  - "/home/henning/src/dotfiles"
  - "/home/henning/src/dotfiles-playbook"

# =============================================================================
# Claude Code MCP Configuration
# =============================================================================
mcp_filesystem_enabled: true
mcp_github_enabled: true
mcp_obsidian_enabled: true
mcp_ref_enabled: true
mcp_semgrep_enabled: true

mcp_filesystem_allowed_dirs:
  - "/home/henning/src"
  - "/home/henning/projects"
  - "/home/henning/Documents"

mcp_obsidian_vault_path: "/home/henning/Documents/ObsidianVault"

mcp_semgrep_scan_dirs:
  - "/home/henning/src"

mcp_network_mode: "host"
mcp_enable_lingering: true
