---
# Arch Linux Workstation Configuration
# 
# This config file contains:
# - User configuration (applies to all roles)
# - Feature toggles
# - Packages not covered by self-contained roles (GNOME apps, etc.)
# - Additional symlinks and folders for utility roles
#
# Each self-contained role has its own defaults that can be overridden here.

# =============================================================================
# User Configuration
# =============================================================================
target_user: henning
dotfiles_home: "/home/{{ target_user }}"

# =============================================================================
# Feature Toggles
# =============================================================================
configure_dotfiles: true
configure_extras: true
configure_repos: true

# MCP Feature Toggles
mcp_filesystem_enabled: true
mcp_github_enabled: true
mcp_ref_enabled: true

# =============================================================================
# Dotfiles Repository (used by multiple roles)
# =============================================================================
dotfiles_repo: "https://github.com/henningmyhrvold/dotfiles.git"
dotfiles_repo_version: "main"
dotfiles_repo_accept_hostkey: true
dotfiles_repo_local_destination: "{{ dotfiles_home }}/src/dotfiles"

downloads: "{{ dotfiles_home }}/.ansible-downloads"

git_repositories:
  - "{{ dotfiles_repo }}"

# External repositories (optional - for third-party tools)
git_repositories_external: []

# =============================================================================
# Additional Pacman Packages (not handled by self-contained roles)
# These are packages that don't fit into a specific role
# =============================================================================
pacman_installed_packages:
  # --- Graphics Drivers ---
  - mesa
  # --- GNOME Apps ---
  - nautilus
  - loupe
  - gnome-calendar
  - gnome-calculator
  - showtime
  # --- Additional CLI Tools ---
  - wget
  - tree
  - fzf
  - fd
  - jq
  - lsof
  - bat
  - ripgrep
  - htop
  - smartmontools
  - unzip
  - curl
  - rsync
  - fastfetch
  - fwupd
  - pacman-contrib
  # --- Networking ---
  - wireless_tools
  - wpa_supplicant
  - network-manager-applet
  - openssh
  - openssl
  - nmap
  - tcpdump
  - wireshark-cli
  # --- Additional Programming ---
  - lua
  - stylua
  - go
  - python-uv
  - python-dateutil
  - python-requests
  - python-gobject
  - direnv
  - terraform
  - tk
  # --- Productivity ---
  - gedit
  - vlc
  # --- HW Development ---
  - subversion
  - bc
  - ccache
  - time
  - usbutils
  - picocom
  - minicom
  - tftp-hpa

# =============================================================================
# Additional AUR Packages (not handled by self-contained roles)
# =============================================================================
aur_installed_packages:
  - zen-browser-bin
  - google-chrome
  - omnissa-horizon-client
  - cool-retro-term
  - tio
  - kermit

# =============================================================================
# NPM Global Packages (managed by npm_global role)
# =============================================================================
npm_global_packages:
  - mcp-hub@latest
  - '@modelcontextprotocol/server-filesystem@latest'
  - '@modelcontextprotocol/server-github@latest'
  - '@upstash/context7-mcp@latest'

# =============================================================================
# Additional Folders to Create (via folders role)
# Note: Most folders are now created by self-contained roles
# =============================================================================
create_folders:
  - { path: "{{ dotfiles_home }}/Pictures" }
  - { path: "{{ dotfiles_home }}/Pictures/wallpapers" }
  - { path: "{{ dotfiles_home }}/Pictures/icons" }
  - { path: "{{ dotfiles_home }}/Documents" }
  - { path: "{{ dotfiles_home }}/Downloads" }
  - { path: "{{ dotfiles_home }}/.config/colors" }
  - { path: "{{ dotfiles_home }}/.config/nvim" }
  - { path: "{{ dotfiles_home }}/.config/tmux" }
  - { path: "{{ dotfiles_home }}/.config/tmux-sessionizer" }
  - { path: "{{ dotfiles_home }}/.config/ghostty" }
  - { path: "{{ dotfiles_home }}/.config/hypr" }
  - { path: "{{ dotfiles_home }}/.config/waybar" }
  - { path: "{{ dotfiles_home }}/.config/wofi" }
  - { path: "{{ dotfiles_home }}/.config/dunst" }
  - { path: "{{ dotfiles_home }}/.config/fontconfig" }
  - { path: "{{ dotfiles_home }}/.config/cool-retro-term" }
  - { path: "{{ dotfiles_home }}/.config/mcp" }
  - { path: "{{ dotfiles_home }}/.config/Claude" }
  - { path: "{{ dotfiles_home }}/.local/bin" }
  - { path: "{{ dotfiles_home }}/.zsh" }
  - { path: "{{ dotfiles_home }}/.vim" }

# =============================================================================
# Additional Dotfiles Symlinks (via dotfiles role)
# Note: Most symlinks are now created by self-contained roles
# These are for files not covered by specific roles
# =============================================================================
dotfiles_links:
  - { src: "zsh/.zshrc", dest: ".zshrc" }
  - { src: "zsh/.zsh_profile", dest: ".zsh_profile" }
  - { src: "zsh/.p10k.zsh", dest: ".p10k.zsh" }
  - { src: "zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh", dest: ".zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh" }
  - { src: "nvim/init.lua", dest: ".config/nvim/init.lua" }
  - { src: "nvim/test.lua", dest: ".config/nvim/test.lua" }
  - { src: "tmux/tmux.conf", dest: ".config/tmux/tmux.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.conf", dest: ".config/tmux-sessionizer/tmux-sessionizer.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.sh", dest: ".local/bin/tmux-sessionizer.sh" }
  - { src: "tmux-sessionizer/tmux-status-color.sh", dest: ".local/bin/tmux-status-color.sh" }
  - { src: "ghostty/config", dest: ".config/ghostty/config" }
  - { src: "hypr/hyprland.conf", dest: ".config/hypr/hyprland.conf" }
  - { src: "hypr/hyprlock.conf", dest: ".config/hypr/hyprlock.conf" }
  - { src: "hypr/hypridle.conf", dest: ".config/hypr/hypridle.conf" }
  - { src: "hypr/hyprpaper.conf", dest: ".config/hypr/hyprpaper.conf" }
  - { src: "waybar/config.jsonc", dest: ".config/waybar/config.jsonc" }
  - { src: "waybar/style.css", dest: ".config/waybar/style.css" }
  - { src: "waybar/email_unread.sh", dest: ".config/waybar/email_unread.sh" }
  - { src: "waybar/meetings.py", dest: ".config/waybar/meetings.py" }
  - { src: "wofi/config", dest: ".config/wofi/config" }
  - { src: "wofi/style.css", dest: ".config/wofi/style.css" }
  - { src: "dunst/dunstrc", dest: ".config/dunst/dunstrc" }
  - { src: "fonts/fonts.conf", dest: ".config/fontconfig/fonts.conf" }
  - { src: "cool-retro-term/cool-retro-term-my-futuristic.json", dest: ".config/cool-retro-term/cool-retro-term-my-futuristic.json" }

# =============================================================================
# DNS Configuration
# =============================================================================
dns_provider: "systemd-resolved"
dns_remove_conflicts: true
dns_configure_networkmanager: true

# =============================================================================
# Serial/HW Development
# =============================================================================
hwdev_openwrt_tooling: true

# =============================================================================
# MCP Configuration Overrides (Claude Desktop)
# =============================================================================
filesystem_allowed_directories:
  - "/home/henning/src/dotfiles"
  - "/home/henning/src/dotfiles-playbook"

# =============================================================================
# MCP Configuration Overrides (Claude Code)
# =============================================================================
mcp_filesystem_allowed_dirs:
  - "/home/henning/src"
  - "/home/henning/projects"
  - "/home/henning/Documents"

mcp_obsidian_vault_path: "/home/henning/Documents/ObsidianVault"

mcp_semgrep_scan_dirs:
  - "/home/henning/src"

mcp_network_mode: "host"
mcp_enable_lingering: true
