---
# Claude Code Role - Self-contained
# Installs Claude Code CLI and configures MCP servers

claude_code_user: "{{ target_user | default(ansible_facts["user_id"]) }}"
claude_code_home: "/home/{{ claude_code_user }}"

# =============================================================================
# Package Installation
# =============================================================================
claude_code_pacman_packages:
  - nodejs
  - npm

claude_code_aur_packages:
  - claude-code

# =============================================================================
# NPM Configuration
# =============================================================================
npm_global_prefix: "{{ claude_code_home }}/.npm-global"

# =============================================================================
# Directory Configuration
# =============================================================================
claude_code_config_dir: "{{ claude_code_home }}/.claude"

claude_code_folders:
  - "{{ claude_code_home }}/.npm-global"
  - "{{ claude_code_home }}/.npm-global/bin"
  - "{{ claude_code_config_dir }}"
  - "{{ claude_code_home }}/.local/bin"

# =============================================================================
# MCP Configuration
# These will be populated by MCP server roles registering themselves
# =============================================================================
mcp_servers_registered: []

# GitHub token for MCP GitHub server (from environment)
github_token: "{{ lookup('env', 'GITHUB_TOKEN') }}"

# MCP filesystem allowed directories
mcp_filesystem_allowed_dirs:
  - "{{ claude_code_home }}/src"
  - "{{ claude_code_home }}/projects"
  - "{{ claude_code_home }}/Documents"
