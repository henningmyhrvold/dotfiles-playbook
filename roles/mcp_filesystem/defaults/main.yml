---
# MCP Filesystem Role - Self-contained
# Runs MCP Filesystem server in Docker

mcp_owner: "{{ target_user | default(ansible_facts["user_id"]) }}"
mcp_home: "/home/{{ mcp_owner }}"

# =============================================================================
# Docker Prerequisites
# =============================================================================
mcp_docker_packages:
  - docker
  - docker-compose

# =============================================================================
# Directory Configuration
# =============================================================================
mcp_base_dir: "{{ mcp_home }}/.config"
mcp_filesystem_dir: "{{ mcp_base_dir }}/mcp-filesystem"

mcp_folders:
  - "{{ mcp_base_dir }}"
  - "{{ mcp_filesystem_dir }}"
  - "{{ mcp_home }}/.config/systemd/user"

# =============================================================================
# Docker Configuration
# =============================================================================
mcp_filesystem_container_name: "mcp-filesystem"
mcp_filesystem_image: "node:20-alpine"
mcp_network_mode: "bridge"
mcp_docker_network: "mcp-network"

# NPM package
mcp_filesystem_npm_package: "@modelcontextprotocol/server-filesystem"

# Directories that the filesystem MCP server can access
mcp_filesystem_allowed_dirs:
  - "{{ mcp_home }}/src"
  - "{{ mcp_home }}/projects"
  - "{{ mcp_home }}/Documents"

# =============================================================================
# Systemd Configuration
# =============================================================================
mcp_filesystem_service_name: "mcp-filesystem.service"
mcp_enable_lingering: true
mcp_compose_pull_policy: "missing"
