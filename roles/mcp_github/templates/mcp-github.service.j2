[Unit]
Description=MCP GitHub Server
After=network-online.target docker.service
Wants=network-online.target

[Service]
Type=exec
RemainAfterExit=yes
WorkingDirectory={{ mcp_github_dir }}
ExecStart=/usr/bin/docker compose --ansi never --progress plain \
  --project-directory {{ mcp_github_dir }} \
  --file docker-compose.mcp-github.yml up -d
ExecStop=/usr/bin/docker compose --ansi never --progress plain \
  --project-directory {{ mcp_github_dir }} \
  --file docker-compose.mcp-github.yml down
Restart=on-failure
RestartSec=3

[Install]
WantedBy=default.target
